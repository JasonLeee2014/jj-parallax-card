var JjParallaxCard=function(e){"use strict";function n(){var e=document.head||document.getElementsByTagName("head")[0],t=n.styles||(n.styles={}),a="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(n,r){if(!document.querySelector('style[data-vue-ssr-id~="'+n+'"]')){var o=a?r.media||"default":n,i=t[o]||(t[o]={ids:[],parts:[],element:void 0});if(!i.ids.includes(n)){var l=r.source,s=i.ids.length;if(i.ids.push(n),a&&(i.element=i.element||document.querySelector("style[data-group="+o+"]")),!i.element){var A=i.element=document.createElement("style");A.type="text/css",r.media&&A.setAttribute("media",r.media),a&&(A.setAttribute("data-group",o),A.setAttribute("data-next-index","0")),e.appendChild(A)}if(a&&(s=parseInt(i.element.getAttribute("data-next-index")),i.element.setAttribute("data-next-index",s+1)),i.element.styleSheet)i.parts.push(l),i.element.styleSheet.cssText=i.parts.filter(Boolean).join("\n");else{var d=document.createTextNode(l),c=i.element.childNodes;c[s]&&i.element.removeChild(c[s]),c.length?i.element.insertBefore(d,c[s]):i.element.appendChild(d)}}}}}function t(e){t.installed||(t.installed=!0,e.component("JjParallaxCard",i))}var a={name:"JJParallaxCard",props:{lightColor:{type:String,default:"white"},clickEffect:{type:Boolean,default:!1}},data:function(){return{rx:0,ry:0,zindex:-20}},methods:{onMouseMove:function(e){var n=this.$refs.parallaxCard.getBoundingClientRect(),t=e.clientX-n.left,a=e.clientY-n.top,r=t-n.width/2,o=a-n.height/2;this.rx=o/(.05*-n.height)+"deg",this.ry=r/(.05*n.width)+"deg"},onMouseLeave:function(e){this.rx="0deg",this.ry="0deg"},onMouseDown:function(e){this.clickEffect&&(this.zindex=-35)},onMouseUp:function(e){this.clickEffect&&(this.zindex=-20)},onClick:function(e){this.$emit("click",e)}}},r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{ref:"parallaxCard",staticClass:"parallax-card",style:{transform:"rotateX("+e.rx+") rotateY("+e.ry+") translateZ("+e.zindex+"px)","--light":""+e.ry,"--light-color":""+e.lightColor},on:{click:e.onClick,mousemove:function(n){e.onMouseMove(n)},mouseleave:function(n){e.onMouseLeave(n)},mousedown:function(n){e.onMouseDown(n)},mouseup:function(n){e.onMouseUp(n)}}},[t("div",{staticClass:"container"},[e._t("content")],2),e._v(" "),t("div",{staticClass:"front",style:{transform:"rotateX("+this.rx+") rotateY("+this.ry+") translateZ(-20px)"}},[e._t("front")],2)])},o=[];r._withStripped=!0;var i=function(e,n,t,a,r,o,i,l){var s=("function"==typeof t?t.options:t)||{};s.__file="/Users/zaka/Desktop/vue/public/jj-parallax-card/jj-parallax-card/src/jj-parallax-card.vue",s.render||(s.render=e.render,s.staticRenderFns=e.staticRenderFns,s._compiled=!0,r&&(s.functional=!0)),s._scopeId=a;var A;if(n&&(A=function(e){n.call(this,i(e))}),void 0!==A)if(s.functional){var d=s.render;s.render=function(e,n){return A.call(n),d(e,n)}}else{var c=s.beforeCreate;s.beforeCreate=c?[].concat(c,A):[A]}return s}({render:r,staticRenderFns:o},function(e){e&&e("data-v-47ea3b27_0",{source:"\n.parallax-card[data-v-47ea3b27] {\n    margin: 20px;\n    position: relative;\n    cursor: pointer;\n    user-select: none;\n    z-index: 0;\n}\n.parallax-card[data-v-47ea3b27]::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    box-shadow: 0 5px 15px rgba(0, 0, 0, .3);\n    transition: all 0.3s cubic-bezier(.25,.8,.25,1);\n    will-change: transform;\n\tborder-radius: 4px;\n    z-index: 1;\n}\n.parallax-card[data-v-47ea3b27]:hover::before {\n    background:linear-gradient(var(--light),var(--light-color) 1% ,rgba(255,255,255,0) 60%);\n}\n.parallax-card .container[data-v-47ea3b27] {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    border-radius: 4px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.parallax-card .front[data-v-47ea3b27] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    overflow: scroll;\n    border-radius: 4px;\n    background-color: transparent;\n    will-change: transform;\n    z-index: 2;\n}\n\n\n\n",map:{version:3,sources:["/Users/zaka/Desktop/vue/public/jj-parallax-card/jj-parallax-card/src/jj-parallax-card.vue"],names:[],mappings:";AAmEA;IACA,aAAA;IACA,mBAAA;IACA,gBAAA;IACA,kBAAA;IACA,WAAA;CACA;AAGA;IACA,YAAA;IACA,mBAAA;IACA,OAAA;IACA,QAAA;IACA,UAAA;IACA,SAAA;IACA,yCAAA;IACA,gDAAA;IACA,uBAAA;CACA,mBAAA;IACA,WAAA;CAEA;AAEA;IACA,wFAAA;CACA;AAEA;IACA,YAAA;IACA,aAAA;IACA,iBAAA;IACA,mBAAA;IACA,cAAA;IACA,oBAAA;IACA,wBAAA;CACA;AAEA;IACA,mBAAA;IACA,OAAA;IACA,QAAA;IACA,UAAA;IACA,SAAA;IACA,iBAAA;IACA,mBAAA;IACA,8BAAA;IACA,uBAAA;IACA,WAAA;CACA",file:"jj-parallax-card.vue",sourcesContent:['<template>\n    <div @click="onClick" ref="parallaxCard" class="parallax-card" :style="{transform:`rotateX(${rx}) rotateY(${ry}) translateZ(${zindex}px)`, \'--light\':`${ry}`, \'--light-color\':`${lightColor}`}" @mousemove="onMouseMove($event)" @mouseleave="onMouseLeave($event)" @mousedown="onMouseDown($event)" @mouseup="onMouseUp($event)">\n        <div class="container">\n            <slot name="content"/>\n        </div>\n        <div class="front" :style="{transform:`rotateX(${this.rx}) rotateY(${this.ry}) translateZ(-20px)`}">\n            <slot name="front"/>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name:\'JJParallaxCard\',\n    props:{\n        lightColor:{\n            type:String,\n            default:\'white\',\n        },\n        clickEffect:{\n            type:Boolean,\n            default:false,\n        }\n    },\n    data(){\n        return {\n            rx:0,\n            ry:0,\n            zindex:-20,\n        }\n    },\n    methods:{\n        onMouseMove(e){\n            let boundingClientRect = this.$refs.parallaxCard.getBoundingClientRect()\n            let x = e.clientX - boundingClientRect.left\n            let y = e.clientY - boundingClientRect.top\n            let xc = boundingClientRect.width/2\n            let yc = boundingClientRect.height/2\n            let dx = x - xc\n            let dy = y - yc\n            this.rx = `${ dy/(-boundingClientRect.height*0.05) }deg`\n            this.ry = `${ dx/(boundingClientRect.width*0.05) }deg`\n        },\n        onMouseLeave(e){\n            this.rx = \'0deg\'\n            this.ry = \'0deg\'\n        },\n        onMouseDown(e){\n            if(this.clickEffect) {\n                this.zindex = -35\n            }\n        },\n        onMouseUp(e){\n            if(this.clickEffect) {\n                this.zindex = -20\n            }\n        },\n        onClick(e){\n            this.$emit(\'click\',e)\n        },\n    },\n    \n}\n<\/script>\n\n\n<style scoped>\n.parallax-card {\n    margin: 20px;\n    position: relative;\n    cursor: pointer;\n    user-select: none;\n    z-index: 0;\n}\n\n\n.parallax-card::before {\n    content: \'\';\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    box-shadow: 0 5px 15px rgba(0, 0, 0, .3);\n    transition: all 0.3s cubic-bezier(.25,.8,.25,1);\n    will-change: transform;\n\tborder-radius: 4px;\n    z-index: 1;\n\n}\n\n.parallax-card:hover::before {\n    background:linear-gradient(var(--light),var(--light-color) 1% ,rgba(255,255,255,0) 60%);\n}\n\n.parallax-card .container {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    border-radius: 4px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.parallax-card .front {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    overflow: scroll;\n    border-radius: 4px;\n    background-color: transparent;\n    will-change: transform;\n    z-index: 2;\n}\n\n\n\n</style>\n\n']},media:void 0})},a,"data-v-47ea3b27",!1,void 0,n,void 0),l={install:t},s=null;return"undefined"!=typeof window?s=window.Vue:"undefined"!=typeof global&&(s=global.Vue),s&&s.use(l),e.default=i,e}({});
